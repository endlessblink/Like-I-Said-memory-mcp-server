# Smithery deployment configuration for Like-I-Said MCP v2
version: 1

# HTTP transport required for Smithery cloud deployment
start:
  type: http-stream
  command: ["node", "server-http-fixed.js"]
  port: 3001
  cors: true

# MCP server configuration schema
configSchema:
  type: object
  properties:
    storagePath:
      type: string
      default: "/memories"
      description: "Path for markdown memory storage"
    apiKey:
      type: string
      description: "Optional access token for authentication"
    projectName:
      type: string
      default: "default"
      description: "Default project name for memory organization"

# Docker build configuration
build:
  dockerfile: Dockerfile.smithery
  dockerBuildPath: .

# Environment variables
env:
  NODE_ENV: production
  MCP_MEMORY_PATH: "/memories"